// import React from "react";
// import { FaCheckCircle, FaShieldAlt, FaHeadset } from "react-icons/fa";

// export const TermPage = () => {
//   return (
//     <div className="bg-gray-50 min-h-screen py-12 px-4 md:px-12 lg:px-24">
//       <div className="max-w-5xl mx-auto bg-white p-10 rounded-3xl shadow-xl">
//         <header className="text-center mb-6">
//           <h1 className="text-3xl md:text-4xl font-bold text-blue-600">
//             Term & Service
//           </h1>
//         </header>

//         <section className="space-y-2 text-gray-700 leading-relaxed">
//           <p className="my-2">
//             By Accessing and using this GGES Website you agree the following
//             terms and conditions. These terms and conditions govern your use of
//             our website; by using our website, you accept these terms and
//             conditions in full. If you disagree with these terms and conditions
//             or any part of these terms and conditions, you must not use our
//             website.
//           </p>
//           <p className="my-4">
//             GGES reserves the right to change the Terms of Use provided herein
//             at our sole discretion with or without notice to you. The most
//             current version of these Terms of Use can be reviewed by clicking on
//             the "Terms of Use" located at the bottom of the pages of the GGES
//             Web site.
//           </p>
//           <h3 className="text-xl font-semibold text-gray-800">AGREEMENT</h3>
//           <p className="mb-4">
//             To use our services, you will need to sign up on the mygges.com
//             website, pay the applicable fees, and obtain an account, and
//             password. You are solely responsible for maintaining the
//             confidentiality of your account and password and for all activities
//             and liabilities associated with or occurring under your account, and
//             password. You agree to provide true and accurate registration data
//             and keep it current and updated. 
//           </p>

//           <h3 className="text-xl font-semibold text-gray-800">CONTENT</h3>
//           <p className="mb-4">
//             The Web Site may provide links to other web sites, which are not
//             under the control of GGES. So GGES shall not be responsible any way
//             of the content of such other webs sites. GGES provides such links
//             only as a convenience, and the inclusion of any such web sites does
//             not imply endorsement by GGES of the content of such sites.
//           </p>

//           <h3 className="text-xl font-semibold text-gray-800">
//             FEES AND PAYMENTS
//           </h3>
//           <p className="mb-4">
//             The billing process will be under the control of GGES who shall send
//             an invoice (on demand) as soon as the Client has agreed on a tuition
//             session or series of tuition sessions unless alternate arrangements
//             have been mutually agreed upon. 100% payment must be made to GGES to
//             confirm the agreement before the session/s starts.
//           </p>
//           <p className="mb-4">
//             We have a <strong> 100% Money Back Guarantee </strong> in place. But
//             please note that No refunds will be issued if you cancel your
//             account after your first tutoring session. Refunds requests will be
//             required by email after you message us on our Whatsapp Number at
//             +91-8860296060.
//           </p>

//           <h3 className="text-xl font-semibold text-gray-800">SCHEDULING</h3>
//           <p className="mb-4">
//             We strongly believe in On-Time deliverables and thus make sure to
//             provide all our services on time. But we do understand that some
//             circumstances may be beyond human control. So we are flexible too.
//             In case client needs a rescheduling then he is expected to update
//             GGES by mail at{" "}
//             <span className="text-blue-600">info@mygges.com </span> at least 12
//             hours before. In any urgent scenario we can accommodate any change
//             in rescheduling only twice in 30 days. Failing aforesaid we will
//             consider the scheduled session to be a Missed Session and that will
//             be counted as a session. Vice versa at times you may not always get
//             a tutoring session at your preferred time because of
//             non-availability of tutors or due to other technological/operational
//             issues. So GGES may communicate the reason of non-availability of
//             your session to you either by email, phone, or any other means and
//             reschedule that session at your any other preferred time.
//           </p>

//           <h3 className="text-xl font-semibold text-gray-800">
//             NON SOLICITATION
//           </h3>
//           <p className="mb-4">
//             The Parent or tutor is not permitted to make private arrangements
//             for tuition with a Tutor introduced by GGES. Should a Client or
//             tutor breach this obligation, they will be liable to account to GGES
//             for all sums paid to the Tutor without deduction and GGES shall be
//             entitled to obtain an injunction against a Client or Tutor to
//             prevent further breaches. This obligation shall continue
//             notwithstanding termination of this agreement.
//           </p>

//           <h3 className="text-xl font-semibold text-gray-800">LIABILITY</h3>
//           <p className="mb-4">
//             Under no circumstances shall GGES, its Directors or any employees be
//             held liable for any loss or damage caused by your reliance on
//             information obtained through the GGES Web site or Tutor. It is your
//             responsibility to evaluate the information, opinion, advice, or
//             other content provided by Tutor and GGES Web site as in today’s
//             dynamic world information keeps changing quickly.
//           </p>
//           <p className="mb-4">
//             GGES do not accept any liability for any claims by the Client
//             arising out of or related to the carrying out of the tutoring by a
//             Tutor introduced by GGES. However we make sure that safety is at its
//             best in all environments.
//           </p>
//           <p className="mb-4">
//             GGES uses many proprietary and licensed third-party technologies,
//             products, and services. As these products and services do not belong
//             to GGES, So GGES cannot guarantee the uptime of these products.
//             There is possibility that these products at times may have down time
//             or stop functioning and GGES may delay its service delivery. However
//             we will try our best to use alternatives in such situations.
//           </p>
//           <p className="mb-4">
//             You agree to indemnify, defend and hold harmless us, and our
//             affiliates, officers, directors, agents, partners, employees,
//             licensors, representatives and third party providers (including our
//             affiliates' respective officers, directors, agents, partners,
//             employees, licensors, representatives, and third party providers),
//             from and against all losses, expenses, damages, costs, claims and
//             demands, including reasonable attorney's fees and related costs and
//             expenses, due to or arising out of any User Content you submit, post
//             to, email, or otherwise transmit to us or through the Services, your
//             use of the Services, the Company Content or any portion thereof,
//             your connection to the Services, or your breach of these Terms. We
//             reserve the right, at our own expense, to assume the exclusive
//             defense and control of any matter otherwise subject to
//             indemnification by you, and in such case, you agree to fully
//             cooperate with such defense and in asserting any available
//             defenses. 
//           </p>

//           <h3 className="text-xl font-semibold text-gray-800">GENERAL</h3>
//           <p className="mb-4">
//             GGES reserves the right to alter these terms and conditions. Unless
//             otherwise agreed in writing by a Director(s) of GGES, these terms
//             and conditions shall prevail over any other terms of business or
//             conditions put forward by the Client. No variation or alteration of
//             these terms and conditions shall be valid unless approved in writing
//             by a Director(s) of GGES.
//           </p>
//           <p className="mb-4">
//             These Terms and Conditions shall be governed by, construed and
//             enforced in accordance with the laws of India applicable to
//             contracts executed and performed entirely therein, and the courts in
//             shall have exclusive jurisdiction.
//           </p>

//           <h3 className="text-xl font-semibold text-gray-800">
//             SESSION VALIDITY
//           </h3>
//           <p className="mb-4">
//             Any sessions purchased by the buyer holds a validity period.
//             “Validity” here means the number of days starting from the date when
//             the payment received, till the last day of validity expiry as stated
//             below. Validity of sessions purchased is as follows:
//           </p>

//           <h3 className="text-xl font-semibold text-gray-800">Contact</h3>
//           <p>
//             If you have questions about this policy, contact us at{" "}
//             <a
//               href="mailto:support@gges.com"
//               className="text-blue-600 underline"
//             >
//               support@gges.com
//             </a>
//             .
//           </p>
//         </section>

//         <footer className="text-sm text-gray-500 mt-8">
//           <p>© {new Date().getFullYear()} GGES. All rights reserved.</p>
//         </footer>
//       </div>
//     </div>
//   );
// };

// export default TermPage;


// import React, { useEffect, useState } from "react";
// import axios from "axios";

// export const TermPage = () => {
//   const [terms, setTerms] = useState([]);
//   const [loading, setLoading] = useState(true);
//   const [error, setError] = useState(null);

//   useEffect(() => {
//     const fetchTerms = async () => {
//       try {
//         // Adjust the URL based on your backend port
//         const response = await axios.get(`${import.meta.env.VITE_APP_URL}api/user/terms`);
        
//         if (response.data.success) {
//           setTerms(response.data.data);
//         }
//       } catch (err) {
//         console.error("Error fetching terms:", err);
//         setError("Failed to load Terms & Services.");
//       } finally {
//         setLoading(false);
//       }
//     };

//     fetchTerms();
//   }, []);

//   // Helper function to detect emails and make them clickable links
//   const renderTextWithLinks = (text) => {
//     if (!text) return null;
    
//     // Simple regex to find email addresses
//     const emailRegex = /([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi;
//     const parts = text.split(emailRegex);

//     return parts.map((part, index) => {
//       if (part.match(emailRegex)) {
//         return (
//           <a key={index} href={`mailto:${part}`} className="text-blue-600 underline">
//             {part}
//           </a>
//         );
//       }
//       return part;
//     });
//   };

//   return (
//     <div className="bg-gray-50 min-h-screen py-12 px-4 md:px-12 lg:px-24">
//       <div className="max-w-5xl mx-auto bg-white p-10 rounded-3xl shadow-xl">
//         <header className="text-center mb-6">
//           <h1 className="text-3xl md:text-4xl font-bold text-blue-600">
//             Term & Service
//           </h1>
//         </header>

//         {loading ? (
//           // Loading Skeleton
//           <div className="space-y-6 animate-pulse">
//             <div className="h-4 bg-gray-200 rounded w-full"></div>
//             <div className="h-4 bg-gray-200 rounded w-5/6"></div>
//             <div className="h-4 bg-gray-200 rounded w-4/6"></div>
//           </div>
//         ) : error ? (
//           // Error State
//           <div className="text-center text-red-500 py-10">
//             <p>{error}</p>
//           </div>
//         ) : (
//           // Dynamic Content
//           <section className="space-y-6 text-gray-700 leading-relaxed">
            
//             {/* If no terms exist */}
//             {terms.length === 0 && (
//               <p className="text-center text-gray-500">No terms and conditions available at the moment.</p>
//             )}

//             {terms.map((term) => (
//               <div key={term._id} className="mb-6">
                
//                 {/* Section Title (e.g., AGREEMENT, FEES) */}
//                 {/* Only render title if it's not a generic 'Intro' without a title */}
//                 {term.title && (
//                   <h3 className="text-xl font-semibold text-gray-800 uppercase mb-3 mt-6">
//                     {term.title}
//                   </h3>
//                 )}

//                 {/* Main Description (Intro paragraph for the section) */}
//                 {term.description && (
//                   <p className="mb-4 whitespace-pre-line">
//                     {renderTextWithLinks(term.description)}
//                   </p>
//                 )}

//                 {/* Bullet Points / Sub-sections */}
//                 {term.points && term.points.length > 0 && (
//                   <div className="space-y-3">
//                     {term.points.map((point, index) => (
//                       <div key={index} className="mb-2">
//                          <p className="mb-2">
//                            {/* Subtitle (Bold text) */}
//                            {point.subtitle && (
//                              <strong className="text-gray-900">{point.subtitle} </strong>
//                            )}
//                            {/* Point Description */}
//                            {renderTextWithLinks(point.desc)}
//                          </p>
//                       </div>
//                     ))}
//                   </div>
//                 )}
//               </div>
//             ))}

//           </section>
//         )}

//         <footer className="text-sm text-gray-500 mt-12 border-t pt-6 text-center">
//           <p>© {new Date().getFullYear()} GGES. All rights reserved.</p>
//         </footer>
//       </div>
//     </div>
//   );
// };

// export default TermPage;



import React, { useEffect, useState } from "react";
import axios from "axios";

export const TermPage = () => {
  const [terms, setTerms] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    const fetchTerms = async () => {
      try {
        const response = await axios.get(`${import.meta.env.VITE_APP_URL}api/user/terms`);
        if (response.data.success) {
          setTerms(response.data.data);
        }
      } catch (err) {
        console.error("Error fetching terms:", err);
        setError("Failed to load Terms & Services.");
      } finally {
        setLoading(false);
      }
    };
    fetchTerms();
  }, []);

  const renderTextWithLinks = (text) => {
    if (!text) return null;
    const emailRegex = /([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi;
    const parts = text.split(emailRegex);
    return parts.map((part, index) => {
      if (part.match(emailRegex)) {
        return <a key={index} href={`mailto:${part}`} className="text-blue-600 underline">{part}</a>;
      }
      return part;
    });
  };

  return (
    <div className="bg-gray-50 min-h-screen py-12 px-4 md:px-12 lg:px-24">
      <div className="max-w-5xl mx-auto bg-white p-10 rounded-3xl shadow-xl">
        <header className="text-center mb-6">
          <h1 className="text-3xl md:text-4xl font-bold text-blue-600">
            Term & Service
          </h1>
        </header>

        {loading ? (
          <div className="space-y-6 animate-pulse">
            <div className="h-4 bg-gray-200 rounded w-full"></div>
            <div className="h-4 bg-gray-200 rounded w-5/6"></div>
          </div>
        ) : error ? (
          <div className="text-center text-red-500 py-10"><p>{error}</p></div>
        ) : (
          <section className="space-y-8 text-gray-700 leading-relaxed">
            
            {terms.length === 0 && (
              <p className="text-center text-gray-500">No terms available.</p>
            )}

            {terms.map((term) => (
              <div key={term._id} className="border-b border-gray-100 pb-6 last:border-0">
                
                {/* ---------- MAIN SECTION TITLE ---------- */}
                {term.title && (
                  <h3 className="text-xl font-semibold text-gray-800 uppercase mb-3">
                    {/* {term.title} */}
                  </h3>
                )}

                {/* ---------- MAIN SECTION DESCRIPTION ---------- */}
                {term.description && (
                  <div className="mb-4 text-gray-600 whitespace-pre-line">
                    {renderTextWithLinks(term.description)}
                  </div>
                )}

                {/* ---------- BULLET POINTS (Updated Logic) ---------- */}
                {term.points && term.points.length > 0 && (
                  <div className="space-y-5 mt-4"> 
                    {term.points.map((point, index) => (
                      <div key={index} className="flex flex-col">
                         
                         {/* 1. Subtitle (Heading) - Ab ye alag line me aayega */}
                         {point.subtitle && (
                           <span className="text-lg font-semibold text-gray-800 mb-2 block">
                             {point.subtitle}
                           </span>
                         )}

                         {/* 2. Description - Ye next line me aayega */}
                         <div className="text-gray-700 leading-relaxed">
                           {renderTextWithLinks(point.desc)}
                         </div>

                      </div>
                    ))}
                  </div>
                )}
              </div>
            ))}
          </section>
        )}

        <footer className="text-sm text-gray-500 mt-12 border-t pt-6 text-center">
          <p>© {new Date().getFullYear()} GGES. All rights reserved.</p>
        </footer>
      </div>
    </div>
  );
};

export default TermPage;